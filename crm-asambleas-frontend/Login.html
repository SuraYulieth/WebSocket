
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CRM Asambleas | Econnect</title>
	<link rel="icon" type="image/png" href="IMG/crm-3.png">
<link rel="stylesheet" href="CSS/Login.css">

</head>
<body>
<div class="image-section"></div>

<div class="login-section">
  <div class="login-box">
    <div class="texto-bienvenida">
      <img src="IMG/logo.png" alt="Econnect">
      <p class="subtitulo">Por favor ingresa tus credenciales para iniciar en</p>
      <img src="IMG/Econnect.png" alt="Econnect">
    </div>

    <!-- Aquí empieza el formulario -->
    <form id="form" class="contenedor-inputs">
      <div class="input-con-icono">
        <img src="IMG/User_Icon.png" alt="Username">
        <input type="text" id="usuario" name="usuario" placeholder="Usuario*" required>
      </div>
      <div class="input-con-icono">
        <img src="IMG/Password_icon.png" alt="Password">
        <input type="password" id="contrasena" name="contrasena" placeholder="Contraseña*" required>
      </div>
      <button type="submit" class="btn-ingresar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="white" viewBox="0 0 24 24" style="margin-right: 8px">
          <path d="M10 17l5-5-5-5v10zm9-15h-14c-1.104 0-2 .896-2 2v4h2v-4h14v14h-14v-4h-2v4c0 1.104.896 2 2 2h14c1.104 0 2-.896 2-2v-14c0-1.104-.896-2-2-2z"/>
        </svg>
        

        <i class="fas fa-sign-in-alt"></i> Ingresar
       
      </button>
       <div id="mensaje-error" style="color: red; font-size: 14px; margin-top: 5px;"></div>
      <footer>
      <p>Copyright © 2025 Asambleas SAS  Medellin - Colombia | <a href="Politica_Privacidad3.html"  target="_blank"> Políticas de privacidad</a></p>
    </footer>
    </form>
    <!-- Aquí termina el formulario -->

  </div>
</div>

<script src="login.js"></script>
<script>
  const form = document.getElementById('loginForm');
  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const formData = new FormData(form);
    const data = {
      usuario: formData.get('usuario'),
      contrasena: formData.get('contrasena')
    };

    const response = await fetch('http://localhost:3000/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });

    const result = await response.json();

    if (result.success) {
      window.location.href = result.redirectUrl;
    } else {
      alert(result.message);
    }
  });
</script>

</body>
	
</html>
